{% extends "index.html" %}

{% block content %}
{% load i18n %}


 <script type="text/javascript">
 $(document).ready(function() {

    $('#iframe').load(function(){
        console.log('load the iframe')
        var element = "<div id='"+$('#uuid').val()+"'>";
        $('#photos').append(element);
    });

});
</script>

    <!-- FIXME: dat prec inline css -->
<style>
.alert-error {color: red;}
</style>

<br/>

<form method="post" action="" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="form-group row">
        <label for="{{ product_form.code.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_code" %}</label>
        <div class="col-sm-10">
            <span class="alert-error"> {{ product_form.code.errors }} </span>
            <input class="form-control" name="{{ product_form.code.html_name }}" value="{{ product_form.code.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.origin_name.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_origin_name" %}</label>
        <div class="col-sm-10">
            <span class="alert-error"> {{ product_form.origin_name.errors }} </span>
            <input class="form-control" name="{{ product_form.origin_name.html_name }}" value="{{ product_form.origin_name.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.name.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_name" %}</label>
        <div class="col-sm-10">
            <span class="alert-error">  {{ product_form.name.errors }} </span>
            <input class="form-control" name="{{ product_form.name.html_name }}" value="{{ product_form.name.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.price.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_price" %}</label>
        <div class="col-sm-10">
            <span class="alert-error"> {{ product_form.price.errors }} </span>
            <input class="form-control" name="{{ product_form.price.html_name }}" value="{{ product_form.price.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.size.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_size" %}</label>
        <div class="col-sm-10">
            <span class="alert-error">  {{ product_form.size.errors }} </span>
            <input class="form-control" name="{{ product_form.size.html_name }}" value="{{ product_form.size.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.amount.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_amount" %}</label>
        <div class="col-sm-10">
            <span class="alert-error">  {{ product_form.amount.errors }} </span>
            <input class="form-control" name="{{ product_form.amount.html_name }}" value="{{ product_form.amount.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.group.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_group" %}</label>
        <div class="col-sm-10">
            {{ product_form.group }}
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.active.id_for_label }}" class="col-sm-2">{% trans "product_active" %}</label>
        <div class="col-sm-10">
          <div class="checkbox">
            <label>
              {{ product_form.active }}
            </label>
          </div>
        </div>
      </div>

    <div class="form-group row">
        <label for="{{ wine_form.color.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_color" %}</label>
        <div class="col-sm-10">
            {{ wine_form.color}}
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ wine_form.year.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_year" %}</label>
        <div class="col-sm-10">
            <span class="alert-error">  {{ wine_form.year.errors }} </span>
            <input class="form-control" name="{{ wine_form.year.html_name }}" value="{{ wine_form.year.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.attribute.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_attribute" %}</label>
        <div class="col-sm-10">
            {{ wine_form.attribute }}
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ wine_form.sugar_residual.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_sugar_residual" %}</label>
        <div class="col-sm-10">
            {{ wine_form.sugar_residual }}
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ wine_form.sugar_content.id_for_label }}" class="col-sm-2 form-control-label">{% trans "sugar_content" %}</label>
        <div class="col-sm-10">
            <input class="form-control" name="{{ wine_form.sugar_content.html_name }}" value="{{ wine_form.sugar_content.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ wine_form.acidity.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_acidity" %}</label>
        <div class="col-sm-10">
            <input class="form-control" name="{{ wine_form.acidity.html_name }}" value="{{ wine_form.acidity.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ wine_form.alcohol.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_alcohol" %}</label>
        <div class="col-sm-10">
            <input class="form-control" name="{{ wine_form.alcohol.html_name }}" value="{{ wine_form.alcohol.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ wine_form.locality.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_locality" %}</label>
        <div class="col-sm-10">
            <input class="form-control" name="{{ wine_form.locality.html_name }}" value="{{ wine_form.locality.value }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ wine_form.serving.id_for_label }}" class="col-sm-2 form-control-label">{% trans "wine_serving" %}</label>
        <div class="col-sm-10">
            <textarea class="form-control" name="{{ wine_form.serving.html_name }}">{{ wine_form.serving.value }}</textarea>
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.description.id_for_label }}" class="col-sm-2 form-control-label">{% trans "product_description" %}</label>
        <div class="col-sm-10">
            <textarea class="form-control" name="{{ product_form.description.html_name }}">{{ product_form.description.value }}</textarea>
        </div>
    </div>

    <div class="form-group row">
        <label for="{{ product_form.is_wine.id_for_label }}" class="col-sm-2 form-control-label">{% trans "is_wine" %}</label>
        <div class="col-sm-10">
            {{ product_form.is_wine }}
        </div>
    </div>

    <div class="form-group row">
        <label for="photo_upload" class="col-sm-2 form-control-label">{% trans "product_photo" %}</label>
        <div class="col-sm-10">
             <input type="file" id="photo_upload" name="photo_upload">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-offset-2 col-sm-10">
            <img src="{{ load_photo.adjust_url }}" class="img-responsive" style="width:400px">
        </div>
    </div>

    {{ product_form.is_new }}

    <div class="form-group row">
        <div class="col-sm-offset-10 col-sm-2">
          <a href="{% url 'list_products' %}"><button class="btn btn-danger">{% trans "back" %}</button></a>
          <button type="submit" class="btn btn btn-primary">{% trans "save" %}</button>
        </div>
    </div>
</form>

{% endblock %}